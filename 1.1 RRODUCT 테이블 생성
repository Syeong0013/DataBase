CREATE TABLE PRODUCT(
    IDX NUMBER(4) NOT NULL,
    NAME    VARCHAR2(20) NOT NULL,
    PDNAME  VARCHAR2(200)    NOT NULL,
    COST    NUMBER(8)   NOT NULL,
    PRICE   NUMBER(8)   NOT NULL,
    QTY NUMBER(4)   NOT NULL,
    TOTALPRICE  NUMBER(10)  NOT NULL,
    ORDERDATE   VARCHAR2(8) NOT NULL
);

INSERT INTO PRODUCT VALUES(1,'전우치','새우깡',300,500,3,1500,'20211211');
INSERT INTO PRODUCT VALUES(2,'전우치','콜라',400,700,2,1400,'20211211');
INSERT INTO PRODUCT VALUES(3,'홍길동','사이다',500,700,3,2100,'20211211');
INSERT INTO PRODUCT VALUES(4,'홍길순','아이스크림',600,1500,3,4500,'20211211');
INSERT INTO PRODUCT VALUES(5,'전우치','새우깡',300,500,1,500,'20211211');
INSERT INTO PRODUCT VALUES(6,'홍길순','아이스크림',600,1500,1,1500,'20211211');
INSERT INTO PRODUCT VALUES(7,'전우치','사이다',500,700,5,3500,'20211211');
INSERT INTO PRODUCT VALUES(8,'홍길동','콜라',400,700,2,1400,'20211211');

SELECT* FROM PRODUCT; --COMMIT

--조회 
--구매 총 금액이 3000원 이상인 건만 조회

SELECT * FROM PRODUCT WHERE TOTALPRICE>=3000;
    
--전우치가 구매한 목록
SELECT * FROM PRODUCT WHERE NAME = '전우치';

--구매금액이 1000원보다 적은 목록
SELECT NAME, PDNAME, TOTALPRICE FROM PRODUCT WHERE TOTALPRICE <1000;


--구매자, 품명, 이윤
SELECT NAME, PDNAME, PRICE - COST FROM PRODUCT; 

--이윤이 300원이 상품명
SELECT PDNAME FROM PRODUCT WHERE (PRICE-COST)=300;

--상품명이 새우깡이고 3개 이상 판매된 목록
SELECT * FROM PRODUCT WHERE PDNAME='새우깡' AND QTY>=3;

--상품명이 새우깡또는 아이스크림인 목록
SELECT * FROM PRODUCT WHERE PDNAME='새우깡' OR PDNAME='아이스크림';
SELECT * FROM PRODUCT WHERE PDNAME='새우깡';
SELECT * FROM PRODUCT WHERE PDNAME='아이스크림';

--데이터 수정 -- 필드 값을 수정함
UPDATE PRODUCT SET ORDERDATE='20220102' WHERE IDX=1 OR NAME='전우치';

SELECT * FROM PRODUCT;

-- 2번필드 QTY 갯수와 총값을 수정
UPDATE PRODUCT SET QTY='6', TOTALPRICE=(QTY*PRICE) WHERE IDX='2';


--2022년 1월 2일부터 3일까지의 판매목록
SELECT * FROM PRODUCT WHERE ORDERDATE>='20220102' AND ORDERDATE <='20220103';

--COMMIT;
--ROLLBACK;
